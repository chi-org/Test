name: Workflow For PoC

on: 
  push: 
    branches:
    - main
  workflow_dispatch:

jobs:
  job1:
    runs-on: ubuntu-dind
    permissions:
      contents: read
      packages: write
    outputs: 
      output_var: ${{ steps.output_var.outputs.output_var }}
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
    - name: Output var step
      id: output_var
      run: |
        echo "output_var=test" >> $GITHUB_ENV

  job2:
    runs-on: ubuntu-dind
    needs: job1
    steps:
    - name: Use output vars step
      run: |
        echo "Output var from job1: ${{ needs.job1.outputs.output_var }}"
        exit 1;
   
