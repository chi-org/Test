name: Workflow For PoC

on: 
  push: 
    branches:
    - main
  workflow_dispatch:

jobs:
  job1:
    runs-on: ubuntu-dind
    steps:
    - name: Checkout code
      uses: actions/checkout@v2
    - name: Failed step
      run: |
        echo "failed branch main"
        ls
        exit 1;

    - name: Failed step
      if: always() && !cancelled()
      run: |
        echo "failed"
        sleep 60
        exit 1;
        echo "second failed step"
        exit 1;
        echo "third step"
  job2:
    runs-on: ubuntu-dind
    needs: job1
    steps:
    - name: Echo step
      run: |
        echo "By pass failed"
   
